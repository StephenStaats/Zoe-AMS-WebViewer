//
//   Get the canvas and context
//

const displayCanvas = document.getElementById('displayCanvas');
const displayCtx = displayCanvas.getContext('2d');

// Create an off-screen canvas for double buffering
const bufferCanvas = document.createElement('canvas');
const bufferCtx = bufferCanvas.getContext('2d');

// Set initial dimensions of the canvas
function resizeCanvas() {

   // displayCanvas.width = window.innerWidth;
   // displayCanvas.height = 200; // Fixed height

   // You might need to adjust the drawing here if necessary
   // For example, redraw the waveform or clear the canvas
   displayCtx.fillStyle = 'black';
   displayCtx.fillRect(0, 0, displayCanvas.width, displayCanvas.height);

   bufferCanvas.width = displayCanvas.width;
   bufferCanvas.height = displayCanvas.height;

   // Initial clear for buffer canvas
   bufferCtx.fillStyle = 'black';
   bufferCtx.fillRect(0, 0, bufferCanvas.width, bufferCanvas.height);

   redrawHomeScreen = 1;

}


//
//   Play startup tone
//

function playStartupTone() {

   // Base64-encoded representation of Startup.wav file
   const wavBase64 = 'data:audio/wav;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMSVNUQgAAAElORk9JU0ZUNQAAAEdvbGRXYXZlIChDKSBDaHJpcyBTLiBDcmFpZywgaHR0cDovL3d3dy5nb2xkd2F2ZS5jb20AAA==';

   // Create an audio element
   const audio = new Audio(wavBase64);

   // Play the audio
   audio.play();

}

//
//   Event listener for changing simulation type dropdown
//

var intervalId = 0;

const simulationTypeDropdown = document.getElementById("simulationTypeDropdown");

simulationTypeDropdown.addEventListener("change", function () {

   const selectedValue = simulationTypeDropdown.value;

   if (selectedValue == 'simulateWaveformData') {
      window.simulatedDataMode = 1;
      clearInterval(intervalId); // This stops the interval
   }
   else {
      window.simulatedDataMode = 0;
      intervalId = setInterval(simulateArrivalOfWaveformMessage, 1000);   
   }

   resetWaveforms(0);

   playStartupTone() ;

});


//  Increment / decrement MS per pixel 
var dialMSPerPixel = document.getElementById('dialMSPerPixel');

function incrementMSPerPixel() {
   if (parseFloat(dialMSPerPixel.value) < parseFloat(dialMSPerPixel.max)) {
      dialMSPerPixel.value = (parseFloat(dialMSPerPixel.value) + 0.1).toFixed(1); // Increase by 0.1 and round to 1 decimal place
      enteredMSPerPixel = parseFloat(dialMSPerPixel.value);
   }
}

function decrementMSPerPixel() {
   if (parseFloat(dialMSPerPixel.value) > parseFloat(dialMSPerPixel.min)) {
      dialMSPerPixel.value = (parseFloat(dialMSPerPixel.value) - 0.1).toFixed(1); // Decrease by 0.1 and round to 1 decimal place
      enteredMSPerPixel = parseFloat(dialMSPerPixel.value);
   }
}



//  Increment / decrement MS per sample 
var dialMSPerSample = document.getElementById('dialMSPerSample');

function incrementMSPerSample() {
   if (parseFloat(dialMSPerSample.value) < parseFloat(dialMSPerSample.max)) {
      dialMSPerSample.value = (parseFloat(dialMSPerSample.value) + 0.1).toFixed(1); // Increase by 0.1 and round to 1 decimal place
      enteredMSPerSample = parseFloat(dialMSPerSample.value);
   }
}

function decrementMSPerSample() {
   if (parseFloat(dialMSPerSample.value) > parseFloat(dialMSPerSample.min)) {
      dialMSPerSample.value = (parseFloat(dialMSPerSample.value) - 0.1).toFixed(1); // Decrease by 0.1 and round to 1 decimal place
      enteredMSPerSample = parseFloat(dialMSPerSample.value);
   }
}


// Call resizeCanvas initially and on window resize

resizeCanvas();
window.addEventListener('resize', resizeCanvas);

// Set the background of the canvas to black
displayCtx.fillStyle = 'black';
displayCtx.fillRect(0, 0, displayCanvas.width, displayCanvas.height);


//
//   Create and initialize home screen
//

let pauseWaveformDrawing = 0;
var framesPerSecond = 60;

homeScreen = new HomeScreen(displayCanvas.width, displayCanvas.height);
homeScreen.initializeAreas();
//homeScreen.setupWaveforms(waveformDataMessage);

resetWaveforms(0);

// Start drawing
drawHomeScreen();


// Define the function to be executed at each interval
function simulateArrivalOfWaveformMessage() {

   processWaveformDataMessage(currentWaveforms[waveformSetIndex]);

}

var waveformDataMessageCount = 0;

// Set the interval to execute the function every 1000 milliseconds (1 second)
if (window.simulatedDataMode == 0) {
   intervalId = setInterval(simulateArrivalOfWaveformMessage, 1000);
}

// To stop the interval after a certain amount of time (e.g., 5 seconds), you can use setTimeout
// setTimeout(() => {
//    clearInterval(intervalId); // This stops the interval
//    console.log('Interval stopped.');
// }, 10000);

